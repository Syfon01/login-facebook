{"ast":null,"code":"import _regeneratorRuntime from\"C:\\\\laragon\\\\www\\\\hosting-triton\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"C:\\\\laragon\\\\www\\\\hosting-triton\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";function PostWithAuth(_x,_x2){return _PostWithAuth.apply(this,arguments);}function _PostWithAuth(){_PostWithAuth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(route,data){var authUser,token;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:authUser=JSON.parse(localStorage[\"_authuser\"]);token=authUser?authUser.userData.token:\"\";return _context.abrupt(\"return\",fetch(\"https://team-trion.herokuapp.com\".concat(route),{method:'POST',mode:'cors',cache:'no-cache',headers:{'Content-Type':'application/json','Authorization':'Bearer '+token},body:JSON.stringify(data)}));case 3:case\"end\":return _context.stop();}}},_callee);}));return _PostWithAuth.apply(this,arguments);}function getWithAuth(_x3){return _getWithAuth.apply(this,arguments);}function _getWithAuth(){_getWithAuth=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(route){var authUser,token;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:authUser=JSON.parse(localStorage[\"_authuser\"]);token=authUser?authUser.userData.token:\"\";return _context2.abrupt(\"return\",fetch(\"https://team-trion.herokuapp.com\".concat(route),{method:'GET',mode:'cors',cache:'no-cache',headers:{'Content-Type':'application/json','Authorization':'Bearer '+token}}));case 3:case\"end\":return _context2.stop();}}},_callee2);}));return _getWithAuth.apply(this,arguments);}function signIn(_x4){return _signIn.apply(this,arguments);}function _signIn(){_signIn=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(_ref){var username,password;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:username=_ref.username,password=_ref.password;return _context4.abrupt(\"return\",new Promise(/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(resolve){var response,status,data,token,payload;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return fetch(\"https://team-trion.herokuapp.com/login/\",{method:'POST',mode:'cors',cache:'no-cache',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:username,password:password})});case 3:response=_context3.sent;status=response.status;_context3.next=7;return response.json();case 7:data=_context3.sent;if(status===201||status===200){token=data.token;payload={isLoggedIn:true,userData:{username:username,token:token}};resolve(payload);}_context3.next=13;break;case 11:_context3.prev=11;_context3.t0=_context3[\"catch\"](0);case 13:case\"end\":return _context3.stop();}}},_callee3,null,[[0,11]]);}));return function(_x5){return _ref2.apply(this,arguments);};}()));case 2:case\"end\":return _context4.stop();}}},_callee4);}));return _signIn.apply(this,arguments);}export{PostWithAuth,getWithAuth,signIn};","map":{"version":3,"sources":["C:\\laragon\\www\\hosting-triton\\src\\utils\\APIRequest.js"],"names":["PostWithAuth","route","data","authUser","JSON","parse","localStorage","token","userData","fetch","method","mode","cache","headers","body","stringify","getWithAuth","signIn","username","password","Promise","resolve","response","status","json","payload","isLoggedIn"],"mappings":"iPAGeA,CAAAA,Y,oJAAf,iBAA4BC,KAA5B,CAAmCC,IAAnC,qIAEUC,QAFV,CAEqBC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAAC,WAAD,CAAvB,CAFrB,CAGUC,KAHV,CAGmBJ,QAAQ,CAAGA,QAAQ,CAACK,QAAT,CAAkBD,KAArB,CAA6B,EAHxD,iCAKWE,KAAK,2CAAoCR,KAApC,EAA4C,CACpDS,MAAM,CAAE,MAD4C,CAEpDC,IAAI,CAAE,MAF8C,CAGpDC,KAAK,CAAE,UAH6C,CAIpDC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,gBAAiB,UAAWN,KAFvB,CAJ2C,CAQpDO,IAAI,CAAEV,IAAI,CAACW,SAAL,CAAeb,IAAf,CAR8C,CAA5C,CALhB,wD,uDAiBec,CAAAA,W,8IAAf,kBAA2Bf,KAA3B,yIAEUE,QAFV,CAEqBC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAAC,WAAD,CAAvB,CAFrB,CAGUC,KAHV,CAGmBJ,QAAQ,CAAGA,QAAQ,CAACK,QAAT,CAAkBD,KAArB,CAA6B,EAHxD,kCAKWE,KAAK,2CAAoCR,KAApC,EAA4C,CACpDS,MAAM,CAAE,KAD4C,CAEpDC,IAAI,CAAE,MAF8C,CAGpDC,KAAK,CAAE,UAH6C,CAIpDC,OAAO,CAAE,CACL,eAAgB,kBADX,CAEL,gBAAiB,UAAWN,KAFvB,CAJ2C,CAA5C,CALhB,0D,sDAgBeU,CAAAA,M,+HAAf,kKAAwBC,QAAxB,MAAwBA,QAAxB,CAAkCC,QAAlC,MAAkCA,QAAlC,kCACW,GAAIC,CAAAA,OAAJ,2FAAY,kBAAOC,OAAP,qMAEYZ,CAAAA,KAAK,CAAC,yCAAD,CAA2C,CAC/DC,MAAM,CAAE,MADuD,CAE/DC,IAAI,CAAE,MAFyD,CAG/DC,KAAK,CAAE,UAHwD,CAI/DC,OAAO,CAAE,CACL,eAAgB,kBADX,CAJsD,CAO/DC,IAAI,CAAEV,IAAI,CAACW,SAAL,CAAe,CACnBG,QAAQ,CAARA,QADmB,CAEnBC,QAAQ,CAARA,QAFmB,CAAf,CAPyD,CAA3C,CAFjB,QAELG,QAFK,gBAcDC,MAdC,CAcUD,QAdV,CAcDC,MAdC,wBAeYD,CAAAA,QAAQ,CAACE,IAAT,EAfZ,QAeDtB,IAfC,gBAiBP,GAAGqB,MAAM,GAAK,GAAX,EAAkBA,MAAM,GAAK,GAAhC,CAAqC,CACzBhB,KADyB,CACfL,IADe,CACzBK,KADyB,CAE3BkB,OAF2B,CAEjB,CACZC,UAAU,CAAC,IADC,CAEZlB,QAAQ,CAAC,CACLU,QAAQ,CAARA,QADK,CAELX,KAAK,CAALA,KAFK,CAFG,CAFiB,CASjCc,OAAO,CAACI,OAAD,CAAP,CACH,CA3BM,4JAAZ,iEADX,0D,yCAmCA,OACIzB,YADJ,CAEIgB,WAFJ,CAGIC,MAHJ","sourcesContent":["\r\n\r\n\r\nasync function PostWithAuth(route, data) {\r\n\r\n    const authUser = JSON.parse(localStorage[\"_authuser\"]);\r\n    const token =  authUser ? authUser.userData.token : \"\";\r\n\r\n    return fetch(`https://team-trion.herokuapp.com${route}`,{\r\n        method: 'POST', \r\n        mode: 'cors', \r\n        cache: 'no-cache',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer '+ token\r\n        },\r\n        body: JSON.stringify(data)\r\n    });\r\n}\r\n\r\nasync function getWithAuth(route) {\r\n\r\n    const authUser = JSON.parse(localStorage[\"_authuser\"]);\r\n    const token =  authUser ? authUser.userData.token : \"\";\r\n\r\n    return fetch(`https://team-trion.herokuapp.com${route}`,{\r\n        method: 'GET', \r\n        mode: 'cors', \r\n        cache: 'no-cache',\r\n        headers: {\r\n            'Content-Type': 'application/json',\r\n            'Authorization': 'Bearer '+ token\r\n        }\r\n    });\r\n}\r\n\r\nasync function signIn({ username, password }){\r\n    return new Promise(async (resolve)=>{\r\n        try{\r\n            const response = await fetch(\"https://team-trion.herokuapp.com/login/\",{\r\n                    method: 'POST', \r\n                    mode: 'cors', \r\n                    cache: 'no-cache',\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify({\r\n                      username,\r\n                      password\r\n                    })\r\n                  });\r\n                let { status } = response;\r\n                const data = await response.json();\r\n    \r\n                if(status === 201 || status === 200 ){\r\n                    const { token } = data;\r\n                    const payload = {\r\n                        isLoggedIn:true,\r\n                        userData:{\r\n                            username,\r\n                            token\r\n                        }\r\n                    }\r\n                    resolve(payload);\r\n                }\r\n            } catch (error) {\r\n                \r\n            }\r\n    })\r\n}\r\n\r\nexport{\r\n    PostWithAuth,\r\n    getWithAuth,\r\n    signIn\r\n} \r\n"]},"metadata":{},"sourceType":"module"}